\input{./../header/kib.tex}
\input{./../header/user.tex}  

% TODO ! напишите здесь название вашей лекции
\title{Лекция 3. Математическая статистика}
% TODO ! замените на дату проведения этой лекции. Например \date{14 апреля 2019}
\date{14.12.2023}
% \logo{\href{https://t.me/kibinfo}{\includegraphics[width=.05\textwidth]{./../pic/kib_logo.png}}}
\author{Слипенчук Павел Владимирович}
\institute{\centering \includegraphics[width=.2\textwidth]{./../pic/kib_logo.png} \\ Москва,\\ \href{https://t.me/kibinfo}{\textbf{КИБ}} }
% \titlegraphic{\href{https://t.me/kibinfo}{\includegraphics[width=.05\textwidth]{./../pic/kib_logo.png}}}

% TODO ! замените https://github.com/kib-courses/latex_templates на ссылку ВАШЕГО спецкурса!
\titlegraphic{\small \href{https://github.com/kib-courses/dsis-math-base}{Базовая математическая подготовка для Data Science}}

\begin{document}
  \maketitle
    
  \begin{frame}{План лекции}\label{frame:plan}
  	% TODO ! добавте в план все ваши секции, кроме "Вопросы для самопроверки", "Домашнее задание" и "Список материалов"
    \begin{enumerate}
    
    
    \item \nameref{section:ml_defs}
    \item \nameref{section:base_statistic}
	
	% \item \nameref{section:probability}


	\end{enumerate}
 \end{frame}

\begin{frame}{Важные замечания}
Аналогично прошлой лекции по теории вероятности:
\begin{enumerate}
	\item мы будем лекцию рассказывать <<на пальцах>>
	\item ...
\end{enumerate}
\end{frame}


\section{Понятия из ML: признак, вектор признаков, выборка.}\label{section:ml_defs}

 \begin{frame}{Признак}
 	\footnotesize
	\termdef{Признак} $x_i$-- определенное значение. 
	Оно может быть категориальным, сравнимым, или числовым: целочисленное, булевое, или дробное.
	
	Примеры нечисловых:
	\begin{itemize}
		\item Категориальный признак -- жёлтый, синий, красный, ...
		\item Сравнимый признак -- старший лейтенант, капитан, майор, подполковник
	\end{itemize}
	\begin{block}{Замечание}
		Признак может быть сравнимым, но не числовым. 
		То есть для признака применимы операции "<", ">", "=", но их нельзя складывать.
		
		Для сравнимых признаков допустима операция вычитания, но она даёт результат другого типа.
		\begin{itemize}
			\item (подполковник - майор) = 1 звание = (капитан - старший лейтинант)
			\item 01.12.2023 - 29.11.2023 = 2 дня
			\item \вопрос{приведите ещё 1-2 примера сравнимых признаков}
		\end{itemize}
	\end{block}

\end{frame}
\begin{frame}{Вектор признаков}
	\termdef{Вектор признаков} $\bold x = (x_1, x_2, ... x_n)$ -- упорядоченная совокупность, каждое значение которого является \term{признаком}. 
	
	\begin{block}{Замечание (для зануд)}
		Вектор признаков не является вектором. Как криволинейная трапеция не является трапецией.	
		В векторе все элементы -- числа. В векторе признаков не обязательно.
	\end{block}

	\termdef{[Не размеченная] выборка} -- это неупорядоченная совокупность однотипных векторов, 
	т.е. векторов одинаковой длины, каждый $i$-й признак которого имеет ту же природу.
\end{frame}

  \begin{frame}{Пример [не размеченной] выборки}\label{frame:class_feature_vector_example}
	\begin{itemize}
		\item $x_1$ -- сумма транзакции [в рублях]
		\item $x_2$ -- возраст клиента [в годах]
		\item $x_3$ -- пол клиента [булевый: 1 -- мужской, 0 -- женский]
		\item $x_4$ -- MCC код\footnote{\termdef{Merchant Category Code} -- номер деятельности компании при осуществлении безналичной оплаты. Например \textbf{1731} означает оплату за электроэнергию, \textbf{3137} -- покупка авиабилетов, \textbf{4121} -- такси}
	\end{itemize}
	\begin{center}\small \begin{tabular}{ l l }
			$(3234, 25, 1, 1731) $ &  $(2540, 55, 0, 1731)$ \\
			$(18400, 45, 0, 3137)$ & $(2540, 55, 0, 1731)$  \\
			$(903, 19, 0, 4121)$  & $(1875, 45, 0, 4121)$  \\
			$(854, 21, 1, 4121)$  & $(702, 21, 0, 4121)$  \\
			$(903, 19, 0, 4121)$  & $(1875, 45, 0, 4121)$  \\
			$(28400, 41, 1, 3137)$ & $(25040, 55, 0, 1731)$  \\
	\end{tabular}\end{center}
\end{frame}

 \begin{frame}
	\begin{block}{Замечание}
		В отличие от таблицы, представленной на слайде №\ref{frame:class_feature_vector_example},
		в данных на реальных задачах \term{вектор признаков} может состоять не из четырёх, а из $~200$ и более признаков:
		$\bold x = (x_1, x_2, ..., x_{200}, ...)$
	\end{block}
	
	Анализируемый признак -- ...

\end{frame}


\section{Математическое ожидание, мода, медиана, квантили; дисперсия.}\label{section:base_statistic}

\begin{frame}{Математическое ожидание}
	Пусть $V$ -- это неупорядоченная конечная совокупность чисел.
	
	\termdef{Математическое ожидание} $M(V)$-- это среднее арифметическое в $V$.
	
	Обозначим:
	\begin{itemize}
		\item $||V||$ -- количество элемент в совокупности
		\item $count(x;V)$ -- количество значений $x$ внутри $V$.
		\item $set(V)$ -- множество (т.е. совокупность уникальных значений) всевозможных значений в $V$.
	\end{itemize}
	
	Тогда математическое ожидание можно записать как:
	\begin{equation}\label{eq:M_by_count_v}
	M(V) = \sum_{\forall v \in set(V)} \frac{count(v;V)}{||V||} \cdot v 
	\end{equation}
	...
\end{frame}
\begin{frame}{Математическое ожидание}
	\small
	...
	
	Мы можем ввести понятие апостариорной вероятности на совокупности $V$ как количество раз, когда 
	у нас случайная величина равна $v$:
	\begin{equation}
	P(v) = \frac{count(v;V)}{||V||}
	\end{equation}
	
	Тогда формула \eqref{eq:M_by_count_v} приобретает вид:
	\begin{equation}\label{eq:M_V_by_P}
	M(V) = \sum_{\forall v \in set(V)} P(v) \cdot v
	\end{equation}
	
	\begin{block}{Замечание}
		Часто именно формулу \eqref{eq:M_V_by_P} определяют как 
		математическое ожидание. Она более общая и подходит для непрерывных случайных величин, 
		а не только для конечных совокупностей $V$.
	\end{block}	
\end{frame}

\begin{frame}
	TODO строим бар. С разными окнами -- разные бары.
\end{frame}

\begin{frame}{Медиана}
	
	Медиана $V$ -- это такое число, что не более половины его элементов не больше этого числа, а не более половины элементов не меньше этого числа.
	
	То есть верна формула:
	\begin{equation}
	... <= b <= c
	\end{equation}
	
\end{frame}

\begin{frame}
	\small
	Медиану можно нати так. Отсортировать совокупность $V$ и взять срединный элемент

	
	\begin{equation}\label{eq:median}
	median(V) = sort(V)\left[1+||V|| // 2 \right]
	\end{equation}
	где $//$ -- это деление нацело, а $[i]$ -- взятие $i$-го элемента.
	
	\begin{block}{Замечание}
		Вообще-то для небольших совокупностей $V$ медиан может быть много... 
		Например для совокупности $V_0=\{1,3,10,18\}$ медианой может быть любое число $x \in [3,10]$.
		
		Поэтому для нечётных совокупностей её обычно вычисляют через формулу \eqref{eq:median};
		а для чётных берут среднее арифметическое двух срединных элементов,
		в случае с $V_0$ медиана будет равна $\frac{3+10}{2}=6.5$.
		
		Однако на практике, для очень больших выборок достаточно \eqref{eq:median}.
	\end{block}
\end{frame}


\begin{frame}{Квантили, перецентили}
\end{frame}

\begin{frame}{Мода.}
\end{frame}

\begin{frame}
\end{frame}

\begin{frame}{Признак, ...}
	
	Матем
	
\end{frame}


\section{Манипуляции в статистике: математика.}

\section{Манипуляции в статистике: общество.}
  
\section{Манипуляции в статистике: ИБ.}


\end{document}